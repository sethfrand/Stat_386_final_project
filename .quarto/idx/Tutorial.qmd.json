{"title":"Accessing the Data","markdown":{"yaml":{"title":"Accessing the Data","jupyter":"python3"},"headingText":"Installation ##","containsRefs":false,"markdown":"\nThis tutorial demonstrates how to use the utah_housing_stat386 package to scrape, clean,\nand analyze Utah housing data from UtahRealEstate.com.\nThe package provides tools to collect data from cities in Utah County and Salt Lake County.\n\n*The first things that you will need to do is install the utah_housing_stat386 package.*\n\n`pip install utah-housing-stat386`\n\nAfter installing, you'll also need to install [playwright](https://playwright.dev/python/docs/intro) browers\nto run the scraping functions.\n\n\n## Reading in the data ##\n\nUsing the package's scraping functions `get_data` and `get_cleaned_data` are extremely memory intensive. Unless, dynamically updated data is required, it is highly recommended to use the functions `data_no_scrape` and `cleaned_static_data`, which are used to read in data that has been previously scraped (a process that took several hours). Details for using `get_data` and `get_cleaned_data` may be found on the `Documentation` page.\n\n```{python}\n#| include: false\nimport sys\nsys.path.insert(0, \"/Users/cromacair/Desktop/STAT 386/Final Project/Final_Project_Repo/src\")\n```\n\n```{python}\n# Import libraries\nimport pandas as pd\nimport numpy as np\nfrom utah_housing_stat386.cleaning import data_no_scape, cleaned_static_data\n\n# Read in the raw, previously scraped data\ndf_raw = data_no_scape()\ndf_raw.head(10)\n```\n```{python}\n# Read in the clean, previously scraped data\ndf_clean = cleaned_static_data()\ndf_clean.head(10)\n```\n\n\n## Cleaning the data ##\n\nIf the data was scraped, the following cleaning functions may be used to clean it. For time and simplicity, the following example usage of these functions will be used with raw, previously scraped (i.e. static) data, `df_raw`.\n\nCleaning the data step-by-step, function-by-function:\n```{python}\nfrom utah_housing_stat386.cleaning import clean_price, clean_numeric_field, clean_year_built, clean_lot_size, clean_garage, clean_address, clean_city\n\n# Apply cleaning step-by-step\ndf_clean1 = df_raw.copy()\ndf_clean1.drop(columns=['agent'])\ndf_clean1['price'] = df_clean1['price'].apply(clean_price)\ndf_clean1['beds'] = df_clean1['beds'].apply(clean_numeric_field)\ndf_clean1['baths'] = df_clean1['baths'].apply(clean_numeric_field)\ndf_clean1['sqft'] = df_clean1['sqft'].apply(clean_numeric_field)\ndf_clean1['year_built'] = df_clean1['year_built'].apply(clean_year_built)\ndf_clean1['lot_size'] = df_clean1['lot_size'].apply(clean_lot_size)\ndf_clean1['garage'] = df_clean1['garage'].apply(clean_garage)\ndf_clean1['address'] = df_clean1['address'].apply(clean_address)\ndf_clean1['city'] = df_clean1['city'].apply(clean_city)\n\ndf_clean1.head(10)\n```\n\nCleaning the data with `clean_housing_data`, which applies all cleaning functions to the DataFrame:\n\n```{python}\nfrom utah_housing_stat386.cleaning import clean_housing_data, remove_duplicates, remove_invalid_entries\n\n# Apply cleaning in consolidated steps\ndf_clean2 = clean_housing_data(df_raw)\ndf_clean2 = remove_duplicates(df_clean2)\ndf_clean2 = remove_invalid_entries(df_clean2)\n\ndf_clean2.head(10)\n```\n\nPerform some last cleaning steps:\n```{python}\nimport re\n\ndf = df_clean2.copy()\n\n# Extract zipcodes\naddress_list = df['address'].tolist()\npattern = r\"UT \\d{5}\"\nzipcode_list = []\nfor address in address_list:\n    zipcode_list.append(re.search(pattern, address).group()[3:])\ndf['zipcode'] = zipcode_list\ndf = df.drop(columns=['address', 'mls'])\n\ndf\n```\n\n\nThe data is now ready for EDA and analysis (see the `Technical Report` page).\n\n\n","srcMarkdownNoYaml":"\nThis tutorial demonstrates how to use the utah_housing_stat386 package to scrape, clean,\nand analyze Utah housing data from UtahRealEstate.com.\nThe package provides tools to collect data from cities in Utah County and Salt Lake County.\n\n## Installation ##\n*The first things that you will need to do is install the utah_housing_stat386 package.*\n\n`pip install utah-housing-stat386`\n\nAfter installing, you'll also need to install [playwright](https://playwright.dev/python/docs/intro) browers\nto run the scraping functions.\n\n\n## Reading in the data ##\n\nUsing the package's scraping functions `get_data` and `get_cleaned_data` are extremely memory intensive. Unless, dynamically updated data is required, it is highly recommended to use the functions `data_no_scrape` and `cleaned_static_data`, which are used to read in data that has been previously scraped (a process that took several hours). Details for using `get_data` and `get_cleaned_data` may be found on the `Documentation` page.\n\n```{python}\n#| include: false\nimport sys\nsys.path.insert(0, \"/Users/cromacair/Desktop/STAT 386/Final Project/Final_Project_Repo/src\")\n```\n\n```{python}\n# Import libraries\nimport pandas as pd\nimport numpy as np\nfrom utah_housing_stat386.cleaning import data_no_scape, cleaned_static_data\n\n# Read in the raw, previously scraped data\ndf_raw = data_no_scape()\ndf_raw.head(10)\n```\n```{python}\n# Read in the clean, previously scraped data\ndf_clean = cleaned_static_data()\ndf_clean.head(10)\n```\n\n\n## Cleaning the data ##\n\nIf the data was scraped, the following cleaning functions may be used to clean it. For time and simplicity, the following example usage of these functions will be used with raw, previously scraped (i.e. static) data, `df_raw`.\n\nCleaning the data step-by-step, function-by-function:\n```{python}\nfrom utah_housing_stat386.cleaning import clean_price, clean_numeric_field, clean_year_built, clean_lot_size, clean_garage, clean_address, clean_city\n\n# Apply cleaning step-by-step\ndf_clean1 = df_raw.copy()\ndf_clean1.drop(columns=['agent'])\ndf_clean1['price'] = df_clean1['price'].apply(clean_price)\ndf_clean1['beds'] = df_clean1['beds'].apply(clean_numeric_field)\ndf_clean1['baths'] = df_clean1['baths'].apply(clean_numeric_field)\ndf_clean1['sqft'] = df_clean1['sqft'].apply(clean_numeric_field)\ndf_clean1['year_built'] = df_clean1['year_built'].apply(clean_year_built)\ndf_clean1['lot_size'] = df_clean1['lot_size'].apply(clean_lot_size)\ndf_clean1['garage'] = df_clean1['garage'].apply(clean_garage)\ndf_clean1['address'] = df_clean1['address'].apply(clean_address)\ndf_clean1['city'] = df_clean1['city'].apply(clean_city)\n\ndf_clean1.head(10)\n```\n\nCleaning the data with `clean_housing_data`, which applies all cleaning functions to the DataFrame:\n\n```{python}\nfrom utah_housing_stat386.cleaning import clean_housing_data, remove_duplicates, remove_invalid_entries\n\n# Apply cleaning in consolidated steps\ndf_clean2 = clean_housing_data(df_raw)\ndf_clean2 = remove_duplicates(df_clean2)\ndf_clean2 = remove_invalid_entries(df_clean2)\n\ndf_clean2.head(10)\n```\n\nPerform some last cleaning steps:\n```{python}\nimport re\n\ndf = df_clean2.copy()\n\n# Extract zipcodes\naddress_list = df['address'].tolist()\npattern = r\"UT \\d{5}\"\nzipcode_list = []\nfor address in address_list:\n    zipcode_list.append(re.search(pattern, address).group()[3:])\ndf['zipcode'] = zipcode_list\ndf = df.drop(columns=['address', 'mls'])\n\ndf\n```\n\n\nThe data is now ready for EDA and analysis (see the `Technical Report` page).\n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"css":["styles.css"],"output-file":"Tutorial.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.24","theme":"cosmo","title":"Accessing the Data","jupyter":"python3"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}