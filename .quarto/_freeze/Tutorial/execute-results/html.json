{
  "hash": "a22b98e90705dd2275f11eb44aa2488b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Accessing the Data\n---\n\nThis tutorial demonstrates how to use the utah_housing_stat386 package to scrape, clean,\nand analyze Utah housing data from UtahRealEstate.com.\nThe package provides tools to collect data from cities in Utah County and Salt Lake County.\n\n## Installation ##\n*The first things that you will need to do is install the utah_housing_stat386 package.*\n\n`pip install utah-housing-stat386`\n\nAfter installing, you'll also need to install [playwright](https://playwright.dev/python/docs/intro) browers\nto run the scraping functions.\n\n\n## Reading in the data ##\n\nUsing the package's scraping functions `get_data` and `get_cleaned_data` are extremely memory intensive. Unless, dynamically updated data is required, it is highly recommended to use the functions `data_no_scrape` and `cleaned_static_data`, which are used to read in data that has been previously scraped (a process that took several hours). Details for using `get_data` and `get_cleaned_data` may be found on the `Documentation` page.\n\n\n::: {#5c625428 .cell execution_count=2}\n``` {.python .cell-code}\n# Import libraries\nimport pandas as pd\nimport numpy as np\nfrom utah_housing_stat386.cleaning import data_no_scape, cleaned_static_data\n\n# Read in the raw, previously scraped data\ndf_raw = data_no_scape()\ndf_raw.head(10)\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mls</th>\n      <th>price</th>\n      <th>address</th>\n      <th>beds</th>\n      <th>baths</th>\n      <th>sqft</th>\n      <th>year_built</th>\n      <th>lot_size</th>\n      <th>garage</th>\n      <th>agent</th>\n      <th>city</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2124118</td>\n      <td>$3,495,973</td>\n      <td>769 W Ranch Cir, Alpine, UT 84004</td>\n      <td>8</td>\n      <td>9</td>\n      <td>14472</td>\n      <td>2008</td>\n      <td>1.02 Ac</td>\n      <td>2124118.0</td>\n      <td>Contact Agent Ned Chidester 801-420-7653 Co-Ag...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2124041</td>\n      <td>$3,850,000</td>\n      <td>19 E Elk Ct, Alpine, UT 84004</td>\n      <td>7</td>\n      <td>7</td>\n      <td>8036</td>\n      <td>2020</td>\n      <td>0.61 Ac</td>\n      <td>2124041.0</td>\n      <td>Contact Agent Tayte Lackey 208-427-4460 Your N...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2122882</td>\n      <td>$719,000</td>\n      <td>475  Grove Dr, Alpine, UT 84004</td>\n      <td>5</td>\n      <td>2</td>\n      <td>2150</td>\n      <td>1969</td>\n      <td>0.50 Ac</td>\n      <td>2122882.0</td>\n      <td>Contact Agent Caleb Eastman 801-419-4773 Your ...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2121304</td>\n      <td>$1,500,000</td>\n      <td>48 N 100 E, Alpine, UT 84004</td>\n      <td>4</td>\n      <td>4</td>\n      <td>3808</td>\n      <td>1900</td>\n      <td>0.93 Ac</td>\n      <td>2121304.0</td>\n      <td>Contact Agent Will S Jones 801-376-7239 Your N...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2119151</td>\n      <td>$1,300,000</td>\n      <td>177 W Canyon Crest Rd, Alpine, UT 84004</td>\n      <td>5</td>\n      <td>3</td>\n      <td>3818</td>\n      <td>2002</td>\n      <td>0.47 Ac</td>\n      <td>2119151.0</td>\n      <td>Contact Agent Cristie Berg 801-372-2751 Co-Age...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2118246</td>\n      <td>$2,245,000</td>\n      <td>259 S Twin River Loop, Alpine, UT 84004</td>\n      <td>7</td>\n      <td>6</td>\n      <td>9119</td>\n      <td>2003</td>\n      <td>0.56 Ac</td>\n      <td>2.0</td>\n      <td>Contact Agent Kerry Oman 801-369-2507 Co-Agent...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2116152</td>\n      <td>$1,350,000</td>\n      <td>1063 E Alpine Dr, Alpine, UT 84004</td>\n      <td>6</td>\n      <td>4</td>\n      <td>5102</td>\n      <td>1983</td>\n      <td>0.46 Ac</td>\n      <td>2116152.0</td>\n      <td>Contact Agent Kara Ragsdale 801-870-6073 Your ...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2116014</td>\n      <td>$1,499,000</td>\n      <td>667 E 770 N, Alpine, UT 84004</td>\n      <td>9</td>\n      <td>5</td>\n      <td>6262</td>\n      <td>2022</td>\n      <td>0.55 Ac</td>\n      <td>2.0</td>\n      <td>Contact Agent Curry Jones 801-830-8199 Your Na...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2115239</td>\n      <td>$1,235,000</td>\n      <td>19 N Lone Peak Dr, Alpine, UT 84004</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5587</td>\n      <td>1993</td>\n      <td>0.90 Ac</td>\n      <td>1.0</td>\n      <td>Contact Agent Julie B. Pierce 801-830-9292 Co-...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2115034</td>\n      <td>$2,400,000</td>\n      <td>1801 N Fort Canyon Rd, Alpine, UT 84004</td>\n      <td>6</td>\n      <td>3</td>\n      <td>4491</td>\n      <td>1980</td>\n      <td>1.74 Ac</td>\n      <td>2115034.0</td>\n      <td>Contact Agent Brett R Sellick 801-502-9955 You...</td>\n      <td>alpine</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#bb2d6739 .cell execution_count=3}\n``` {.python .cell-code}\n# Read in the clean, previously scraped data\ndf_clean = cleaned_static_data()\ndf_clean.head(10)\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mls</th>\n      <th>price</th>\n      <th>address</th>\n      <th>beds</th>\n      <th>baths</th>\n      <th>sqft</th>\n      <th>year_built</th>\n      <th>lot_size</th>\n      <th>garage</th>\n      <th>city</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2124118</td>\n      <td>3495973.0</td>\n      <td>769 W Ranch Cir, Alpine, UT 84004</td>\n      <td>8.0</td>\n      <td>9.0</td>\n      <td>14472.0</td>\n      <td>2008</td>\n      <td>1.02</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2124041</td>\n      <td>3850000.0</td>\n      <td>19 E Elk Ct, Alpine, UT 84004</td>\n      <td>7.0</td>\n      <td>7.0</td>\n      <td>8036.0</td>\n      <td>2020</td>\n      <td>0.61</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2122882</td>\n      <td>719000.0</td>\n      <td>475 Grove Dr, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>2.0</td>\n      <td>2150.0</td>\n      <td>1969</td>\n      <td>0.50</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2121304</td>\n      <td>1500000.0</td>\n      <td>48 N 100 E, Alpine, UT 84004</td>\n      <td>4.0</td>\n      <td>4.0</td>\n      <td>3808.0</td>\n      <td>1900</td>\n      <td>0.93</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2119151</td>\n      <td>1300000.0</td>\n      <td>177 W Canyon Crest Rd, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>3.0</td>\n      <td>3818.0</td>\n      <td>2002</td>\n      <td>0.47</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2118246</td>\n      <td>2245000.0</td>\n      <td>259 S Twin River Loop, Alpine, UT 84004</td>\n      <td>7.0</td>\n      <td>6.0</td>\n      <td>9119.0</td>\n      <td>2003</td>\n      <td>0.56</td>\n      <td>2</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2116152</td>\n      <td>1350000.0</td>\n      <td>1063 E Alpine Dr, Alpine, UT 84004</td>\n      <td>6.0</td>\n      <td>4.0</td>\n      <td>5102.0</td>\n      <td>1983</td>\n      <td>0.46</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2116014</td>\n      <td>1499000.0</td>\n      <td>667 E 770 N, Alpine, UT 84004</td>\n      <td>9.0</td>\n      <td>5.0</td>\n      <td>6262.0</td>\n      <td>2022</td>\n      <td>0.55</td>\n      <td>2</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2115239</td>\n      <td>1235000.0</td>\n      <td>19 N Lone Peak Dr, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>5.0</td>\n      <td>5587.0</td>\n      <td>1993</td>\n      <td>0.90</td>\n      <td>1</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2115034</td>\n      <td>2400000.0</td>\n      <td>1801 N Fort Canyon Rd, Alpine, UT 84004</td>\n      <td>6.0</td>\n      <td>3.0</td>\n      <td>4491.0</td>\n      <td>1980</td>\n      <td>1.74</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Cleaning the data ##\n\nIf the data was scraped, the following cleaning functions may be used to clean it. For time and simplicity, the following example usage of these functions will be used with raw, previously scraped (i.e. static) data, `df_raw`.\n\nCleaning the data step-by-step, function-by-function:\n\n::: {#596e484e .cell execution_count=4}\n``` {.python .cell-code}\nfrom utah_housing_stat386.cleaning import clean_price, clean_numeric_field, clean_year_built, clean_lot_size, clean_garage, clean_address, clean_city\n\n# Apply cleaning step-by-step\ndf_clean1 = df_raw.copy()\ndf_clean1.drop(columns=['agent'])\ndf_clean1['price'] = df_clean1['price'].apply(clean_price)\ndf_clean1['beds'] = df_clean1['beds'].apply(clean_numeric_field)\ndf_clean1['baths'] = df_clean1['baths'].apply(clean_numeric_field)\ndf_clean1['sqft'] = df_clean1['sqft'].apply(clean_numeric_field)\ndf_clean1['year_built'] = df_clean1['year_built'].apply(clean_year_built)\ndf_clean1['lot_size'] = df_clean1['lot_size'].apply(clean_lot_size)\ndf_clean1['garage'] = df_clean1['garage'].apply(clean_garage)\ndf_clean1['address'] = df_clean1['address'].apply(clean_address)\ndf_clean1['city'] = df_clean1['city'].apply(clean_city)\n\ndf_clean1.head(10)\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mls</th>\n      <th>price</th>\n      <th>address</th>\n      <th>beds</th>\n      <th>baths</th>\n      <th>sqft</th>\n      <th>year_built</th>\n      <th>lot_size</th>\n      <th>garage</th>\n      <th>agent</th>\n      <th>city</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2124118</td>\n      <td>3495973.0</td>\n      <td>769 W Ranch Cir, Alpine, UT 84004</td>\n      <td>8.0</td>\n      <td>9.0</td>\n      <td>14472.0</td>\n      <td>2008</td>\n      <td>1.02</td>\n      <td>0</td>\n      <td>Contact Agent Ned Chidester 801-420-7653 Co-Ag...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2124041</td>\n      <td>3850000.0</td>\n      <td>19 E Elk Ct, Alpine, UT 84004</td>\n      <td>7.0</td>\n      <td>7.0</td>\n      <td>8036.0</td>\n      <td>2020</td>\n      <td>0.61</td>\n      <td>0</td>\n      <td>Contact Agent Tayte Lackey 208-427-4460 Your N...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2122882</td>\n      <td>719000.0</td>\n      <td>475 Grove Dr, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>2.0</td>\n      <td>2150.0</td>\n      <td>1969</td>\n      <td>0.50</td>\n      <td>0</td>\n      <td>Contact Agent Caleb Eastman 801-419-4773 Your ...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2121304</td>\n      <td>1500000.0</td>\n      <td>48 N 100 E, Alpine, UT 84004</td>\n      <td>4.0</td>\n      <td>4.0</td>\n      <td>3808.0</td>\n      <td>1900</td>\n      <td>0.93</td>\n      <td>0</td>\n      <td>Contact Agent Will S Jones 801-376-7239 Your N...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2119151</td>\n      <td>1300000.0</td>\n      <td>177 W Canyon Crest Rd, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>3.0</td>\n      <td>3818.0</td>\n      <td>2002</td>\n      <td>0.47</td>\n      <td>0</td>\n      <td>Contact Agent Cristie Berg 801-372-2751 Co-Age...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2118246</td>\n      <td>2245000.0</td>\n      <td>259 S Twin River Loop, Alpine, UT 84004</td>\n      <td>7.0</td>\n      <td>6.0</td>\n      <td>9119.0</td>\n      <td>2003</td>\n      <td>0.56</td>\n      <td>2</td>\n      <td>Contact Agent Kerry Oman 801-369-2507 Co-Agent...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2116152</td>\n      <td>1350000.0</td>\n      <td>1063 E Alpine Dr, Alpine, UT 84004</td>\n      <td>6.0</td>\n      <td>4.0</td>\n      <td>5102.0</td>\n      <td>1983</td>\n      <td>0.46</td>\n      <td>0</td>\n      <td>Contact Agent Kara Ragsdale 801-870-6073 Your ...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2116014</td>\n      <td>1499000.0</td>\n      <td>667 E 770 N, Alpine, UT 84004</td>\n      <td>9.0</td>\n      <td>5.0</td>\n      <td>6262.0</td>\n      <td>2022</td>\n      <td>0.55</td>\n      <td>2</td>\n      <td>Contact Agent Curry Jones 801-830-8199 Your Na...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2115239</td>\n      <td>1235000.0</td>\n      <td>19 N Lone Peak Dr, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>5.0</td>\n      <td>5587.0</td>\n      <td>1993</td>\n      <td>0.90</td>\n      <td>1</td>\n      <td>Contact Agent Julie B. Pierce 801-830-9292 Co-...</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2115034</td>\n      <td>2400000.0</td>\n      <td>1801 N Fort Canyon Rd, Alpine, UT 84004</td>\n      <td>6.0</td>\n      <td>3.0</td>\n      <td>4491.0</td>\n      <td>1980</td>\n      <td>1.74</td>\n      <td>0</td>\n      <td>Contact Agent Brett R Sellick 801-502-9955 You...</td>\n      <td>alpine</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nCleaning the data with `clean_housing_data`, which applies all cleaning functions to the DataFrame:\n\n::: {#f8383341 .cell execution_count=5}\n``` {.python .cell-code}\nfrom utah_housing_stat386.cleaning import clean_housing_data, remove_duplicates, remove_invalid_entries\n\n# Apply cleaning in consolidated steps\ndf_clean2 = clean_housing_data(df_raw)\ndf_clean2 = remove_duplicates(df_clean2)\ndf_clean2 = remove_invalid_entries(df_clean2)\n\ndf_clean2.head(10)\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mls</th>\n      <th>price</th>\n      <th>address</th>\n      <th>beds</th>\n      <th>baths</th>\n      <th>sqft</th>\n      <th>year_built</th>\n      <th>lot_size</th>\n      <th>garage</th>\n      <th>city</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2124118</td>\n      <td>3495973.0</td>\n      <td>769 W Ranch Cir, Alpine, UT 84004</td>\n      <td>8.0</td>\n      <td>9.0</td>\n      <td>14472.0</td>\n      <td>2008</td>\n      <td>1.02</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2124041</td>\n      <td>3850000.0</td>\n      <td>19 E Elk Ct, Alpine, UT 84004</td>\n      <td>7.0</td>\n      <td>7.0</td>\n      <td>8036.0</td>\n      <td>2020</td>\n      <td>0.61</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2122882</td>\n      <td>719000.0</td>\n      <td>475 Grove Dr, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>2.0</td>\n      <td>2150.0</td>\n      <td>1969</td>\n      <td>0.50</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2121304</td>\n      <td>1500000.0</td>\n      <td>48 N 100 E, Alpine, UT 84004</td>\n      <td>4.0</td>\n      <td>4.0</td>\n      <td>3808.0</td>\n      <td>1900</td>\n      <td>0.93</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2119151</td>\n      <td>1300000.0</td>\n      <td>177 W Canyon Crest Rd, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>3.0</td>\n      <td>3818.0</td>\n      <td>2002</td>\n      <td>0.47</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2118246</td>\n      <td>2245000.0</td>\n      <td>259 S Twin River Loop, Alpine, UT 84004</td>\n      <td>7.0</td>\n      <td>6.0</td>\n      <td>9119.0</td>\n      <td>2003</td>\n      <td>0.56</td>\n      <td>2</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2116152</td>\n      <td>1350000.0</td>\n      <td>1063 E Alpine Dr, Alpine, UT 84004</td>\n      <td>6.0</td>\n      <td>4.0</td>\n      <td>5102.0</td>\n      <td>1983</td>\n      <td>0.46</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2116014</td>\n      <td>1499000.0</td>\n      <td>667 E 770 N, Alpine, UT 84004</td>\n      <td>9.0</td>\n      <td>5.0</td>\n      <td>6262.0</td>\n      <td>2022</td>\n      <td>0.55</td>\n      <td>2</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2115239</td>\n      <td>1235000.0</td>\n      <td>19 N Lone Peak Dr, Alpine, UT 84004</td>\n      <td>5.0</td>\n      <td>5.0</td>\n      <td>5587.0</td>\n      <td>1993</td>\n      <td>0.90</td>\n      <td>1</td>\n      <td>alpine</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2115034</td>\n      <td>2400000.0</td>\n      <td>1801 N Fort Canyon Rd, Alpine, UT 84004</td>\n      <td>6.0</td>\n      <td>3.0</td>\n      <td>4491.0</td>\n      <td>1980</td>\n      <td>1.74</td>\n      <td>0</td>\n      <td>alpine</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nPerform some last cleaning steps:\n\n::: {#462f38e9 .cell execution_count=6}\n``` {.python .cell-code}\nimport re\n\ndf = df_clean2.copy()\n\n# Extract zipcodes\naddress_list = df['address'].tolist()\npattern = r\"UT \\d{5}\"\nzipcode_list = []\nfor address in address_list:\n    zipcode_list.append(re.search(pattern, address).group()[3:])\ndf['zipcode'] = zipcode_list\ndf = df.drop(columns=['address', 'mls'])\n\ndf\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>price</th>\n      <th>beds</th>\n      <th>baths</th>\n      <th>sqft</th>\n      <th>year_built</th>\n      <th>lot_size</th>\n      <th>garage</th>\n      <th>city</th>\n      <th>zipcode</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>3495973.0</td>\n      <td>8.0</td>\n      <td>9.0</td>\n      <td>14472.0</td>\n      <td>2008</td>\n      <td>1.02</td>\n      <td>0</td>\n      <td>alpine</td>\n      <td>84004</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>3850000.0</td>\n      <td>7.0</td>\n      <td>7.0</td>\n      <td>8036.0</td>\n      <td>2020</td>\n      <td>0.61</td>\n      <td>0</td>\n      <td>alpine</td>\n      <td>84004</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>719000.0</td>\n      <td>5.0</td>\n      <td>2.0</td>\n      <td>2150.0</td>\n      <td>1969</td>\n      <td>0.50</td>\n      <td>0</td>\n      <td>alpine</td>\n      <td>84004</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1500000.0</td>\n      <td>4.0</td>\n      <td>4.0</td>\n      <td>3808.0</td>\n      <td>1900</td>\n      <td>0.93</td>\n      <td>0</td>\n      <td>alpine</td>\n      <td>84004</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>1300000.0</td>\n      <td>5.0</td>\n      <td>3.0</td>\n      <td>3818.0</td>\n      <td>2002</td>\n      <td>0.47</td>\n      <td>0</td>\n      <td>alpine</td>\n      <td>84004</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>509</th>\n      <td>520000.0</td>\n      <td>4.0</td>\n      <td>3.0</td>\n      <td>2005.0</td>\n      <td>1995</td>\n      <td>0.16</td>\n      <td>0</td>\n      <td>west-jordan</td>\n      <td>84088</td>\n    </tr>\n    <tr>\n      <th>510</th>\n      <td>598990.0</td>\n      <td>3.0</td>\n      <td>3.0</td>\n      <td>2433.0</td>\n      <td>2025</td>\n      <td>0.08</td>\n      <td>0</td>\n      <td>west-jordan</td>\n      <td>84081</td>\n    </tr>\n    <tr>\n      <th>511</th>\n      <td>1054810.0</td>\n      <td>6.0</td>\n      <td>4.0</td>\n      <td>4903.0</td>\n      <td>2025</td>\n      <td>0.14</td>\n      <td>2</td>\n      <td>west-jordan</td>\n      <td>84081</td>\n    </tr>\n    <tr>\n      <th>512</th>\n      <td>589900.0</td>\n      <td>3.0</td>\n      <td>3.0</td>\n      <td>2861.0</td>\n      <td>2022</td>\n      <td>0.11</td>\n      <td>0</td>\n      <td>west-jordan</td>\n      <td>84081</td>\n    </tr>\n    <tr>\n      <th>513</th>\n      <td>1049990.0</td>\n      <td>5.0</td>\n      <td>4.0</td>\n      <td>5020.0</td>\n      <td>2025</td>\n      <td>0.18</td>\n      <td>0</td>\n      <td>south-jordan</td>\n      <td>84009</td>\n    </tr>\n  </tbody>\n</table>\n<p>979 rows Ã— 9 columns</p>\n</div>\n```\n:::\n:::\n\n\nThe data is now ready for EDA and analysis (see the `Technical Report` page).\n\n",
    "supporting": [
      "Tutorial_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js\" integrity=\"sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js\" integrity=\"sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}